<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, orientation=landscape">
    <title>KINGS FIRE - THE ULTIMATE ROYAL</title>
    <style>
        :root { --gold: #FFD700; --red: #FF4500; --glass: rgba(0,0,0,0.9); }
        body { margin: 0; background: #000; color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        .screen { height: 100vh; width: 100vw; display: none; flex-direction: column; justify-content: center; align-items: center; position: absolute; }
        
        /* 1. STARTUP STYLES */
        #splash { display: flex; background: #000; }
        .css-flag { width: 220px; height: 140px; display: flex; flex-direction: column; border: 1px solid white; margin-bottom: 15px; }
        .saffron { background: #FF9933; flex: 1; }
        .white { background: #FFF; flex: 1; display: flex; justify-content: center; align-items: center; }
        .green { background: #128807; flex: 1; }
        .chakra { width: 30px; height: 30px; border: 2px solid #000080; border-radius: 50%; }

        /* 2. LOBBY UI */
        #lobby { background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://w0.peakpx.com/wallpaper/354/655/HD-wallpaper-garena-free-fire-cool-backgrounds-thumbnail.jpg'); background-size: cover; }
        .top-bar { position: absolute; top: 0; width: 100%; height: 60px; background: rgba(0,0,0,0.85); display: flex; justify-content: space-between; align-items: center; padding: 0 20px; border-bottom: 2px solid var(--gold); box-sizing: border-box; }
        .currency { background: var(--glass); padding: 5px 15px; border-radius: 20px; border: 1px solid var(--gold); font-size: 14px; margin-top: 5px; }
        
        /* 3. SWIPE PANELS */
        .side-panel { position: absolute; width: 280px; height: 70vh; background: var(--glass); top: 15%; transition: 0.5s; border: 1px solid var(--gold); z-index: 2000; padding: 15px; overflow-y: auto; }
        #map-panel { left: -315px; border-radius: 0 25px 25px 0; }
        #friend-panel { right: -315px; border-radius: 25px 0 0 25px; }
        .active-l { left: 0 !important; }
        .active-r { right: 0 !important; }

        .btn-start { position: absolute; bottom: 20px; background: var(--red); color: white; padding: 15px 90px; font-size: 28px; border: 3px solid white; border-radius: 15px; cursor: pointer; font-weight: bold; box-shadow: 0 0 20px var(--red); }
        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 400px; background: #111; border: 2px solid var(--gold); padding: 25px; z-index: 5000; border-radius: 20px; }
    </style>
</head>
<body>

    <div id="splash" class="screen">
        <h1 id="kf-logo" style="font-size: 50px; color: var(--gold);">KINGS FIRE</h1>
        <div id="vaibhav-flag" style="display:none; flex-direction:column; align-items:center;">
            <div class="css-flag"><div class="saffron"></div><div class="white"><div class="chakra"></div></div><div class="green"></div></div>
            <h2 style="letter-spacing:5px;">VAIBHAV</h2>
        </div>
    </div>

    <div id="login-screen" class="screen" style="background:#111;">
        <div style="border: 1px solid var(--gold); padding: 40px; border-radius: 20px;">
            <h2>LOGIN TO BATTLE</h2>
            <button onclick="socialLogin()" style="width:200px; padding:12px; margin:10px; background:white; color:black; border:none; border-radius:5px; font-weight:bold;">GOOGLE LOGIN</button>
            <br><button onclick="socialLogin()" style="width:200px; padding:12px; margin:10px; background:#E1306C; color:white; border:none; border-radius:5px; font-weight:bold;">INSTAGRAM LOGIN</button>
        </div>
    </div>

    <div id="lobby" class="screen">
        <div class="top-bar">
            <div onclick="adminTrigger()" style="cursor:pointer; text-align:left;"><b id="user-name">VAIBHAV</b> <br> <small style="color:var(--gold);">ELITE DEVELOPER</small></div>
            <div>
                <div class="currency">‚óè <span id="c-bal">10000</span></div>
                <div class="currency">‚óÜ <span id="d-bal">0</span></div>
            </div>
        </div>

        <div id="char-display" style="position:absolute; bottom:60px; font-size:120px;">üö∂üêï</div>

        <button class="btn-start" onclick="startMatch()">START</button>

        <div id="map-panel" class="side-panel">
            <h3 style="color:var(--gold)">115 MAPS & MODES</h3>
            <p onclick="setGame('BR')">üèÜ BATTLE ROYALE (10 MIN)</p>
            <p onclick="setGame('CR')">‚ö° CLASH RANK (3 MIN)</p>
        </div>
        <div id="friend-panel" class="side-panel">
            <h3 style="color:var(--gold)">ONLINE FRIENDS</h3>
            <p>Friend_07 (Online) <button onclick="playSFX('click')">Invite</button></p>
        </div>
    </div>

    <div id="admin-modal" class="modal">
        <h2 style="color:red;">ADMIN PANEL</h2>
        <input type="password" id="admin-pass" placeholder="Password..." style="padding:10px; width:80%; margin-bottom:10px;">
        <button onclick="checkAdmin()" style="background:var(--gold); padding:10px 20px; border:none; font-weight:bold;">LOGIN</button>
        <button onclick="closeModal()" style="background:none; color:white; border:none; margin-left:10px;">BACK</button>
    </div>

    <script>
        // ‡≤∏‡≥å‡≤Ç‡≤°‡≥ç ‡≤´‡≥à‡≤≤‡≥ç‡≤∏‡≥ç ‡≤≤‡≥ã‡≤°‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥Ü
        const sounds = {
            bgm: new Audio('lv_0_20260123223058.mp3'),
            gun: new Audio('https://www.soundjay.com/mechanical/gun-gunshot-01.mp3'),
            bomb: new Audio('https://www.soundjay.com/button/beep-07.mp3'), // Placeholder for bomb
            zipline: new Audio('https://www.soundjay.com/mechanical/mechanical-climb-1.mp3'),
            rain: new Audio('https://www.soundjay.com/nature/rain-01.mp3'),
            click: new Audio('https://www.soundjay.com/buttons/button-16.mp3')
        };

        // ‡≤∏‡≥å‡≤Ç‡≤°‡≥ç ‡≤™‡≥ç‡≤≤‡≥á ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç
        function playSFX(type) {
            if(sounds[type]) {
                sounds[type].currentTime = 0;
                sounds[type].play();
            }
        }

        // STARTUP FLOW
        setTimeout(() => {
            document.getElementById('kf-logo').style.display = 'none';
            document.getElementById('vaibhav-flag').style.display = 'flex';
            setTimeout(() => {
                document.getElementById('splash').style.display = 'none';
                document.getElementById('login-screen').style.display = 'flex';
            }, 1500);
        }, 1500);

        function socialLogin() {
            playSFX('click');
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('lobby').style.display = 'flex';
            sounds.bgm.loop = true;
            sounds.bgm.play();
        }

        function startMatch() {
            playSFX('gun');
            alert("Matchmaking 50 Players...\nWeather: Rainy Mysore (Rain Sound Enabled).\nTime Limit: 10 Min (BR) / 3 Min (Clash).");
            playSFX('rain'); // ‡≤Æ‡≥à‡≤∏‡≥Ç‡≤∞‡≥Å ‡≤Æ‡≥ç‡≤Ø‡≤æ‡≤™‡≥ç ‡≤Æ‡≤≥‡≥Ü ‡≤∏‡≥å‡≤Ç‡≤°‡≥ç ‡≤∂‡≥Å‡≤∞‡≥Å
        }

        // SWIPE LOGIC
        let sx = 0;
        window.addEventListener('touchstart', e => sx = e.touches[0].clientX);
        window.addEventListener('touchend', e => {
            let ex = e.changedTouches[0].clientX;
            if(ex > sx + 80) document.getElementById('map-panel').classList.toggle('active-l');
            if(sx > ex + 80) document.getElementById('friend-panel').classList.toggle('active-r');
        });

        // ADMIN LOGIC
        let clicks = 0;
        function adminTrigger() {
            clicks++;
            if(clicks >= 5) { document.getElementById('admin-modal').style.display = 'block'; clicks = 0; }
        }
        function checkAdmin() {
            if(document.getElementById('admin-pass').value === "VAIBHAV_BOSS_2026") {
                alert("Admin Access Granted!");
                closeModal();
            } else { alert("Wrong Password!"); }
        }
        function closeModal() { document.getElementById('admin-modal').style.display = 'none'; }
    </script>
</body>
</html>
