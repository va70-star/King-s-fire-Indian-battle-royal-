<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, orientation=landscape">
    <title>KINGS FIRE - GLOBAL MASS</title>
    <style>
        body { margin: 0; background: #000; color: gold; font-family: 'Segoe UI', sans-serif; text-align: center; overflow: hidden; }
        .screen { height: 100vh; width: 100vw; display: none; flex-direction: column; justify-content: center; align-items: center; position: absolute; }
        
        /* 1. CINEMATIC STARTUP */
        #logo-start { display: flex; background: black; }
        #flag-start { background: #000; }
        .css-flag { width: 240px; height: 160px; display: flex; flex-direction: column; border: 1px solid white; }
        .saffron { background: #FF9933; flex: 1; }
        .white { background: #FFFFFF; flex: 1; display: flex; justify-content: center; align-items: center; }
        .green { background: #128807; flex: 1; }
        .chakra { width: 30px; height: 30px; border: 2px solid #000080; border-radius: 50%; }

        /* 2. LOBBY UI */
        #lobby { background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://w0.peakpx.com/wallpaper/242/502/HD-wallpaper-garena-free-fire-winterlands-lobby-thumbnail.jpg'); background-size: cover; }
        .top-bar { position: absolute; top: 0; width: 100%; height: 60px; background: rgba(0,0,0,0.85); display: flex; justify-content: space-between; align-items: center; padding: 0 20px; border-bottom: 2px solid gold; box-sizing: border-box; }
        
        /* 3. GLOBAL CHAT */
        #chat-box { position: absolute; left: 10px; bottom: 90px; width: 250px; height: 150px; background: rgba(0,0,0,0.7); border: 1px solid gold; border-radius: 10px; display: flex; flex-direction: column; text-align: left; font-size: 12px; }
        #chat-content { flex: 1; overflow-y: auto; padding: 5px; color: white; }
        #chat-input { background: #111; border: none; border-top: 1px solid gold; color: gold; padding: 5px; border-radius: 0 0 10px 10px; }

        .btn-mass { background: gold; color: #000; border: none; padding: 12px 25px; font-weight: bold; border-radius: 5px; cursor: pointer; text-transform: uppercase; }
        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 400px; background: rgba(10,10,10,0.98); border: 2px solid gold; padding: 25px; z-index: 5000; border-radius: 15px; }
        input { background: #222; border: 1px solid gold; color: white; padding: 10px; border-radius: 8px; margin: 10px; width: 85%; text-align: center; }
    </style>
</head>
<body>

    <div id="logo-start" class="screen">
        <h1 style="font-size: 50px; color: gold;">KINGS FIRE</h1>
        <h2 style="color: white; letter-spacing: 5px;">PRODUCED BY VAIBHAV</h2>
    </div>

    <div id="flag-start" class="screen">
        <div class="css-flag">
            <div class="saffron"></div>
            <div class="white"><div class="chakra"></div></div>
            <div class="green"></div>
        </div>
        <h3 style="color: white; margin-top: 15px;">JAI HIND</h3>
    </div>

    <div id="login-screen" class="screen" style="background: #111;">
        <div style="border: 2px solid gold; padding: 30px; border-radius: 20px;">
            <h2>KINGS FIRE LOGIN</h2>
            <input type="text" id="p-name" placeholder="Enter Nickname...">
            <br><button class="btn-mass" onclick="enterGame()">ENTER LOBBY</button>
        </div>
    </div>

    <div id="lobby" class="screen">
        <div class="top-bar">
            <div onclick="adminTrigger()" style="text-align:left; cursor:pointer;"><b id="user-name">PLAYER</b> <br> <small style="color:gold;">PRO DEV</small></div>
            <div>ðŸ’° <span id="coins">10000</span> | ðŸ’Ž <span id="diamonds">0</span></div>
            <button class="btn-mass" style="padding: 5px 10px; font-size: 10px;" onclick="showModal('redeem-modal')">REDEEM</button>
        </div>

        <div id="chat-box">
            <div id="chat-content"><b>System:</b> Welcome to Kings Fire!</div>
            <input type="text" id="chat-input" placeholder="Global Chat..." onkeypress="sendChat(event)">
        </div>

        <button class="btn-mass" style="background: red; color: white; position: absolute; bottom: 20px; padding: 15px 80px; font-size: 25px; border: 2px solid white;">START MATCH</button>
    </div>

    <div id="redeem-modal" class="modal">
        <h2>REDEEM CODES</h2>
        <input type="text" id="code-input" placeholder="Enter Code...">
        <button class="btn-mass" onclick="useCode()">REDEEM</button>
        <button class="btn-mass" style="background:#333; color:white;" onclick="closeModal('redeem-modal')">BACK</button>
    </div>

    <div id="admin-panel" class="modal" style="border-color: red;">
        <h2 style="color: red;">ADMIN CONTROL</h2>
        <input type="number" id="set-diamonds" placeholder="Add Diamonds">
        <input type="number" id="set-coins" placeholder="Add KF Coins">
        <button class="btn-mass" onclick="applyAdmin()">APPLY</button>
        <button class="btn-mass" style="background:#333; color:white;" onclick="closeModal('admin-panel')">EXIT</button>
    </div>

    <audio id="bgm" loop src="lv_0_20260123223058.mp3"></audio>

    <script>
        let clicks = 0;
        let dBal = 0;
        let cBal = 10000;

        // Startup Logic
        setTimeout(() => {
            document.getElementById('logo-start').style.display = 'none';
            document.getElementById('flag-start').style.display = 'flex';
            setTimeout(() => {
                document.getElementById('flag-start').style.display = 'none';
                document.getElementById('login-screen').style.display = 'flex';
            }, 1000);
        }, 2000);

        function enterGame() {
            let name = document.getElementById('p-name').value;
            if(!name) return alert("Enter Nickname!");
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('lobby').style.display = 'flex';
            document.getElementById('user-name').innerText = name.toUpperCase();
            document.getElementById('bgm').play();
        }

        function sendChat(e) {
            if(e.key === 'Enter') {
                let input = document.getElementById('chat-input');
                let content = document.getElementById('chat-content');
                let name = document.getElementById('user-name').innerText;
                content.innerHTML += `<div><b>${name}:</b> ${input.value}</div>`;
                input.value = "";
                content.scrollTop = content.scrollHeight;
            }
        }

        function useCode() {
            let val = document.getElementById('code-input').value;
            if(val === "KING50") { dBal += 50; alert("50 Diamonds Added!"); }
            else if(val === "KINGSFIRE30K") { dBal += 30000; alert("30,000 Diamonds Added!"); }
            else if(val === "KFCOINS50K") { cBal += 50000; alert("50,000 KF Coins Added!"); }
            else { alert("Invalid Code!"); }
            updateUI();
            closeModal('redeem-modal');
        }

        function adminTrigger() {
            clicks++;
            if(clicks >= 5) { showModal('admin-panel'); clicks = 0; }
        }

        function applyAdmin() {
            dBal += parseInt(document.getElementById('set-diamonds').value) || 0;
            cBal += parseInt(document.getElementById('set-coins').value) || 0;
            updateUI();
            closeModal('admin-panel');
        }

        function updateUI() {
            document.getElementById('diamonds').innerText = dBal;
            document.getElementById('coins').innerText = cBal;
        }

        function showModal(id) { document.getElementById(id).style.display = 'block'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    </script>
</body>
</html>
