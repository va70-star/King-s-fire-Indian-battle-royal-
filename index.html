<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, orientation=landscape">
    <title>KINGS FIRE - Produced by VAIBHAV</title>
    <style>
        body { margin: 0; background: #000; color: gold; font-family: 'Segoe UI', Arial, sans-serif; text-align: center; overflow: hidden; }
        .screen { height: 100vh; width: 100vw; display: none; flex-direction: column; justify-content: center; align-items: center; position: absolute; }
        #splash { display: flex; background: #000; }
        #lobby { background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://images.unsplash.com/photo-1614850523296-d8c1af93d400?auto=format&fit=crop&w=1000'); background-size: cover; }
        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 320px; background: #111; border: 2px solid gold; padding: 20px; z-index: 2000; border-radius: 15px; box-shadow: 0 0 20px rgba(255,215,0,0.3); }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 10px; padding: 10px; overflow-y: auto; max-height: 45vh; width: 90%; }
        .card { background: rgba(255, 215, 0, 0.1); border: 1px solid #444; border-radius: 8px; padding: 10px; transition: 0.3s; }
        .btn-mass { background: gold; color: #000; border: none; padding: 10px 15px; font-weight: bold; border-radius: 5px; cursor: pointer; margin: 5px; }
        input { background: #222; border: 1px solid gold; color: white; padding: 10px; margin: 10px; border-radius: 5px; text-align: center; }
    </style>
</head>
<body>

    <div id="splash" class="screen">
        <img src="https://img.icons8.com/emoji/96/crown-emoji.png" style="width:100px; filter: drop-shadow(0 0 15px gold);">
        <h1 style="font-size: 50px; margin:10px;">KINGS FIRE</h1>
        <h2 style="color: white; letter-spacing: 5px;">PRODUCED BY VAIBHAV</h2>
        <div style="width: 200px; height: 5px; background: #222; margin-top: 20px;"><div id="load-bar" style="width: 0%; height: 100%; background: gold;"></div></div>
    </div>

    <div id="login-screen" class="screen" style="background: #111;">
        <h2>KINGS FIRE LOGIN</h2>
        <input type="text" id="p-name" placeholder="Nickname (e.g. Mass_Vaibhav)">
        <input type="text" id="ref-code" placeholder="Referral Code (Optional)">
        <button class="btn-mass" onclick="enterGame()">ENTER BATTLE</button>
        <p style="font-size: 10px; color: grey;">Enter code to get 10,000 D-Coins Free!</p>
    </div>

    <div id="lobby" class="screen">
        <div style="position: absolute; top: 10px; left: 10px; text-align: left;">
            <button class="btn-mass" onclick="showProfile()">MY PROFILE</button>
            <p style="margin:5px;">Coins: <span id="c-count">10000</span> | Diamonds: 0</p>
        </div>
        <h2 id="wel-name">WELCOME, LEGEND</h2>
        <div class="grid" id="char-list"></div>
        <div style="margin-top: 10px;">
            <button class="btn-mass" onclick="openMap()">SELECT MAP</button>
            <button class="btn-mass" onclick="showPayModal()">BUY DIAMONDS</button>
            <button class="btn-mass" style="background:red; color:white;">START MATCH</button>
        </div>
    </div>

    <div id="pay-modal" class="modal">
        <h3>TOP UP DIAMONDS</h3>
        <p style="font-size: 14px;">Pay to UPI: <b style="color:gold;">dineshbherya@ybl</b></p>
        <p style="font-size: 12px; color: #bbb;">Upload Screenshot to get Reward:</p>
        <input type="file" id="ss-upload" style="font-size: 10px;">
        <button class="btn-mass" onclick="submitPay()">SUBMIT PROOF</button>
        <button class="btn-mass" style="background:grey;" onclick="closeModal()">CLOSE</button>
    </div>

    <div id="map-screen" class="screen" style="background: #000;">
        <h2>SELECT MULTIPLAYER MAP</h2>
        <div class="grid">
            <div class="card" onclick="setMap('Mysore Palace')">MYSORE PALACE</div>
            <div class="card" onclick="setMap('Hampi Ruins')">HAMPI RUINS</div>
            <div class="card" onclick="setMap('Ayodhya Temple')">AYODHYA</div>
        </div>
        <button class="btn-mass" onclick="closeMap()">BACK TO LOBBY</button>
    </div>

    <div id="profile-screen" class="screen" style="background: rgba(0,0,0,0.9);">
        <h2>PERSONALITY PROFILE</h2>
        <div class="card" style="width: 80%; border-color: gold;">
            <p>NAME: <span id="prof-name">---</span></p>
            <p>RANK: Soldier (0 RP)</p>
            <p>PERSONALITY: Mass Legend</p>
            <hr>
            <button class="btn-mass" style="font-size:12px;" onclick="alert('Gifting Disabled: Need Level 10')">SEND GIFT</button>
        </div>
        <button class="btn-mass" onclick="closeProfile()">BACK</button>
    </div>

    <audio id="bgm" loop>
        <source src="lv_0_20260123223058.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Loading Logic
        let prg = 0;
        let timer = setInterval(() => {
            prg += 1.5; document.getElementById('load-bar').style.width = prg + "%";
            if(prg>=100){ 
                clearInterval(timer); 
                document.getElementById('splash').style.display='none'; 
                document.getElementById('login-screen').style.display='flex';
            }
        }, 40);

        function enterGame() {
            let name = document.getElementById('p-name').value;
            let ref = document.getElementById('ref-code').value;
            if(!name) return alert("Enter your Nickname!");
            
            if(ref.toUpperCase() === "VAIBHAV") {
                document.getElementById('c-count').innerText = "20000";
                alert("Referral Applied! 10,000 Coins Added.");
            }

            document.getElementById('login-screen').style.display='none';
            document.getElementById('lobby').style.display='flex';
            document.getElementById('wel-name').innerText = "WELCOME, " + name.toUpperCase();
            document.getElementById('prof-name').innerText = name.toUpperCase();
            
            // Start your Audio
            document.getElementById('bgm').play().catch(() => console.log("Click anywhere to start music"));
        }

        // UI Handlers
        function showPayModal() { document.getElementById('pay-modal').style.display='block'; }
        function closeModal() { document.getElementById('pay-modal').style.display='none'; }
        function submitPay() {
            if(!document.getElementById('ss-upload').value) return alert("Upload Screenshot first!");
            alert("Verification Sent! Produced by Vaibhav.");
            closeModal();
        }

        function openMap() { document.getElementById('map-screen').style.display='flex'; }
        function setMap(m) { alert(m + " Ready! Produced by Vaibhav."); closeMap(); }
        function closeMap() { document.getElementById('map-screen').style.display='none'; }
        
        function showProfile() { document.getElementById('profile-screen').style.display='flex'; }
        function closeProfile() { document.getElementById('profile-screen').style.display='none'; }

        // Legends List
        const chars = ["The Boss (FREE)", "Normal Female (FREE)", "D Boss", "Kiccha", "Appu", "Virat Kohli", "SRK", "Pushpa Raj", "Rocky Bhai", "Kantara Shiva"];
        const list = document.getElementById('char-list');
        chars.forEach(c => {
            let div = document.createElement('div');
            div.className = "card";
            div.innerHTML = `<p style="font-size:11px">${c}</p><button class="btn-mass" style="font-size:9px">EQUIP</button>`;
            list.appendChild(div);
        });
    </script>
</body>
</html>
